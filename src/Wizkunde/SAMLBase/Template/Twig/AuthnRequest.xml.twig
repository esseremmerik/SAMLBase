<?xml version="1.0" encoding="UTF-8"?>
<samlp:AuthnRequest xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol"
                    xmlns:saml="urn:oasis:names:tc:SAML:2.0:protocol"
                    ID="{{ UniqueID }}" Version="2.0"
                    IssueInstant="{{ Timestamp }}"
                    ForceAuthn="{{ ForceAuthn }}"
                    IsPassive="{{ IsPassive }}"
                    ProtocolBinding="{{ ProtocolBinding }}"
                    AssertionConsumerServiceURL="{{ SPReturnUrl }}"
                    AssertionConsumerServiceIndex="0"
                    AttributeConsumingServiceIndex="0">

    <saml:Issuer xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion">{{ Issuer }}</saml:Issuer>

    <saml:Subject>
        <saml:BaseID/>
        <saml:SubjectConfirmation Method="{{ Issuer }}">
            <saml:BaseID/>
            <saml:SubjectConfirmationData>
            </saml:SubjectConfirmationData>
        </saml:SubjectConfirmation>
    </saml:Subject>

    <samlp:NameIDPolicy Format="{{ NameIDFormat }}" SPNameQualifier="{{ Issuer }}" AllowCreate="1"/>

    <saml:Conditions>
        <saml:Condition/>
    </saml:Conditions>

    <samlp:RequestedAuthnContext>
        <saml:AuthnContextClassRef>{{ Issuer }}</saml:AuthnContextClassRef>
    </samlp:RequestedAuthnContext>

    <samlp:RequestedAuthnContext xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" comparison="{{ ComparisonLevel }}">
        <saml:AuthnContextClassRef xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion">
            urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport
        </saml:AuthnContextClassRef>
    </samlp:RequestedAuthnContext>

</samlp:AuthnRequest>